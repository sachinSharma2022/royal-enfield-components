<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.cdnfonts.com/css/guardian-sans" rel="stylesheet" />

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet" />

  <title>Document</title>
  <link rel="stylesheet" href="styles/style.css" />

  <!-- Link Swiper's CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
</head>

<body>
  <section class="blank"></section>
  <section class="motoverse-throughout">
    <div class="inner-section">
      <h2 class="main-heading">Motovers throughout the years</h2>
    </div>
    <div class="slider-section">
      <div class="swiper image-swiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide image-slider">
            <h4>2012</h4>
            <div class="img-box">
              <video class="slide-video"
                poster="https://images.unsplash.com/photo-1558981806-ec527fa84c39?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
                autoplay muted loop playsinline>
                <source src="/assets/dummy.mp4" type="video/mp4" />
                Your browser does not support the video tag.
              </video>
            </div>
          </div>
          <div class="swiper-slide image-slider">
            <h4>2013</h4>
            <div class="img-box">
              <img
                src="https://images.unsplash.com/photo-1622185135505-2d795003994a?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                alt="Motorcycle rally" class="slide-bg" />
            </div>
          </div>
          <div class="swiper-slide image-slider">
            <h4>2014</h4>
            <div class="img-box">
              <video class="slide-video"
                poster="https://images.unsplash.com/photo-1558981806-ec527fa84c39?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
                autoplay muted loop playsinline>
                <source src="/assets/dummy.mp4" type="video/mp4" />
                Your browser does not support the video tag.
              </video>
            </div>
          </div>
          <div class="swiper-slide image-slider">
            <h4>2015</h4>
            <div class="img-box">
              <img
                src="https://images.unsplash.com/photo-1563027068-2ee1d91eada2?q=80&w=1469&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                alt="Motorcycle rally" class="slide-bg" />
            </div>
          </div>
          <div class="swiper-slide image-slider">
            <h4>2016</h4>
            <div class="img-box">
              <video class="slide-video"
                poster="https://images.unsplash.com/photo-1558981806-ec527fa84c39?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
                autoplay muted loop playsinline>
                <source src="/assets/dummy.mp4" type="video/mp4" />
                Your browser does not support the video tag.
              </video>
            </div>
          </div>
        </div>
      </div>
      <div class="swiper swiper-content">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <div class="content-section">
              <h4>Rider Mania arrives First!</h4>
              <p class="strong-text">
                From a gathering of motorcycling clubs to a motorcycling festival
              </p>
              <p class="description">
                Rider Mania, launched in 2012 as a gathering of Enfield clubs, has
                grown into a major motorcycling event, attracting LSDDr riders to
                Coa. In collaboration with Vagator communities, we created the
                largest Rider Mania since 2003, strengthening Royal Enfields brand
                with riders and shaping Indals motorcycling culture.
              </p>
            </div>
          </div>

          <div class="swiper-slide">
            <div class="content-section">
              <h4>Rider Mania arrives Second!</h4>
              <p class="strong-text">
                From a gathering of motorcycling clubs to a motorcycling festival
              </p>
              <p class="description">
                Rider Mania, launched in 2012 as a gathering of Enfield clubs, has
                grown into a major motorcycling event, attracting LSDDr riders to
                Coa. In collaboration with Vagator communities, we created the
                largest Rider Mania since 2003, strengthening Royal Enfields brand
                with riders and shaping Indals motorcycling culture.
              </p>
            </div>
          </div>

          <div class="swiper-slide">
            <div class="content-section">
              <h4>Rider Mania arrives Third!</h4>
              <p class="strong-text">
                From a gathering of motorcycling clubs to a motorcycling festival
              </p>
              <p class="description">
                Rider Mania, launched in 2012 as a gathering of Enfield clubs, has
                grown into a major motorcycling event, attracting LSDDr riders to
                Coa. In collaboration with Vagator communities, we created the
                largest Rider Mania since 2003, strengthening Royal Enfields brand
                with riders and shaping Indals motorcycling culture.
              </p>
            </div>
          </div>

          <div class="swiper-slide">
            <div class="content-section">
              <h4>Rider Mania arrives Fourth!</h4>
              <p class="strong-text">
                From a gathering of motorcycling clubs to a motorcycling festival
              </p>
              <p class="description">
                Rider Mania, launched in 2012 as a gathering of Enfield clubs, has
                grown into a major motorcycling event, attracting LSDDr riders to
                Coa. In collaboration with Vagator communities, we created the
                largest Rider Mania since 2003, strengthening Royal Enfields brand
                with riders and shaping Indals motorcycling culture.
              </p>
            </div>
          </div>

          <div class="swiper-slide">
            <div class="content-section">
              <h4>Rider Mania arrives Fifth!</h4>
              <p class="strong-text">
                From a gathering of motorcycling clubs to a motorcycling festival
              </p>
              <p class="description">
                Rider Mania, launched in 2012 as a gathering of Enfield clubs, has
                grown into a major motorcycling event, attracting LSDDr riders to
                Coa. In collaboration with Vagator communities, we created the
                largest Rider Mania since 2003, strengthening Royal Enfields brand
                with riders and shaping Indals motorcycling culture.
              </p>
            </div>
          </div>
        </div>

        <div class="swiper-button-next arrow-custom"></div>
        <div class="swiper-button-prev arrow-custom"></div>
      </div>
    </div>

    <div class="blurred-bg-container">
      <img src="" alt="Blurred background" class="blurred-bg" />
    </div>

    <div class="inner-footer-section">
      <h2 class="heading">MOTOVERSE</h3>
    </div>
  </section>
  <section class="blank"></section>

  <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>
  <script>
    // document.addEventListener("DOMContentLoaded", function () {
    //   const imageSwiper = new Swiper(".image-swiper", {
    //     loop: true,
    //     slidesPerView: 5,
    //     centeredSlides: true,
    //     spaceBetween: 12,
    //     autoplay: {
    //       delay: 5000,
    //       disableOnInteraction: false,
    //     },
    //     breakpoints: {
    //       0: { // for mobile
    //         slidesPerView: 1.2,
    //       },
    //       768: { // tablet and above
    //         slidesPerView: 2.4,
    //       },
    //       1024: { // desktop
    //         slidesPerView: 5,
    //       },
    //       1600: { // desktop
    //         slidesPerView: 7,
    //       },
    //       2400: { // desktop
    //         slidesPerView: 8,
    //       },
    //     },
    //   });

    //   const contentSwiper = new Swiper(".swiper-content", {
    //     loop: true,
    //     slidesPerView: 1,
    //     allowTouchMove: false,
    //     effect: "fade",
    //     fadeEffect: {
    //       crossFade: true,
    //     },
    //     navigation: {
    //       nextEl: ".swiper-button-next",
    //       prevEl: ".swiper-button-prev",
    //     },
    //   });

    //   // Background update
    //   const updateBlurredImage = () => {
    //     const activeSlide = document.querySelector(
    //       ".image-swiper .swiper-slide-active img"
    //     );
    //     const blurredBg = document.querySelector(".blurred-bg");
    //     if (activeSlide && blurredBg) {
    //       blurredBg.style.opacity = 0;
    //       setTimeout(() => {
    //         blurredBg.src = activeSlide.src;
    //         blurredBg.style.opacity = 1;
    //       }, 300);
    //     }
    //   };

    //   updateBlurredImage();

    //   // Sync when image swiper changes
    //   imageSwiper.on("slideChange", () => {
    //     contentSwiper.slideToLoop(imageSwiper.realIndex);
    //     updateBlurredImage();
    //   });

    //   // Sync when content swiper changes (via arrows)
    //   contentSwiper.on("slideChange", () => {
    //     imageSwiper.slideToLoop(contentSwiper.realIndex);
    //     updateBlurredImage();
    //   });

    //   // Click on image to change both
    //   document.querySelectorAll(".image-swiper .swiper-slide").forEach((slide, index) => {
    //     slide.addEventListener("click", () => {
    //       imageSwiper.slideToLoop(index);
    //       contentSwiper.slideToLoop(index);
    //       updateBlurredImage();
    //     });
    //   });
    // });

    document.addEventListener("DOMContentLoaded", function () {
      const imageSwiper = new Swiper(".image-swiper", {
        loop: true,
        slidesPerView: 5,
        centeredSlides: true,
        spaceBetween: 12,
        breakpoints: {
          0: { slidesPerView: 1.2 },
          768: { slidesPerView: 2.4 },
          1024: { slidesPerView: 5 },
          1600: { slidesPerView: 7 },
          2400: { slidesPerView: 8 },
        },
      });

      const contentSwiper = new Swiper(".swiper-content", {
        loop: true,
        slidesPerView: 1,
        allowTouchMove: false,
        effect: "fade",
        fadeEffect: { crossFade: true },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
      });

      // Update blurred background
      const updateBlurredImage = () => {
        const activeMedia = document.querySelector(
          ".image-swiper .swiper-slide-active .slide-bg, .image-swiper .swiper-slide-active .slide-video"
        );
        const blurredBg = document.querySelector(".blurred-bg");

        if (activeMedia && blurredBg) {
          blurredBg.style.opacity = 0;
          setTimeout(() => {
            if (activeMedia.tagName.toLowerCase() === "img") {
              blurredBg.src = activeMedia.src;
            } else if (activeMedia.tagName.toLowerCase() === "video") {
              blurredBg.src = activeMedia.getAttribute("poster") || "https://via.placeholder.com/1920x1080";
            }
            blurredBg.style.opacity = 1;
          }, 300);
        }
      };

      // Play/pause videos
      const handleVideoPlayback = () => {
        document.querySelectorAll(".slide-video").forEach(video => {
          video.pause();
        });
        const activeVideo = document.querySelector(".image-swiper .swiper-slide-active .slide-video");
        if (activeVideo) {
          activeVideo.play();
        }
      };

      // Init
      updateBlurredImage();
      handleVideoPlayback();

      // Sync sliders + update
      imageSwiper.on("slideChange", () => {
        contentSwiper.slideToLoop(imageSwiper.realIndex);
        updateBlurredImage();
        handleVideoPlayback();
      });

      contentSwiper.on("slideChange", () => {
        imageSwiper.slideToLoop(contentSwiper.realIndex);
        updateBlurredImage();
        handleVideoPlayback();
      });

      // Click on image/video to change both
      document.querySelectorAll(".image-swiper .swiper-slide").forEach((slide, index) => {
        slide.addEventListener("click", () => {
          imageSwiper.slideToLoop(index);
          contentSwiper.slideToLoop(index);
          updateBlurredImage();
          handleVideoPlayback();
        });
      });
    });
  </script>
</body>

</html>